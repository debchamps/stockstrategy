// Every 5 minutestarting from 9 o clock get the stock data.

//Stocks to look  for

const tickDao = require("./tickDao.js");
var api_key = "excnq4xt82prtikf",
  secret = "97stthsig18m51d933sq3ft7de78wq8l",
  request_token = "16yGyPaQv1ux5SH6In0EJWHe164Cqg6q",
  access_token = "pZzsWrOttGBjn9UeofYkcRyZiySCBb81";

var KiteTicker = require("kiteconnect").KiteTicker;
var ticker = new KiteTicker({
  api_key: api_key,
  access_token: access_token
});

ticker.connect();
ticker.on("ticks", onTicks);
ticker.on("connect", subscribe);
ticker.on();

function onTicks(ticks) {
  console.log("Ticks", ticks);
  tickDao.createTickRecord(ticks);
  console.log("Ticks", ticks);
}

function subscribe() {
  var items = [
    6404353,
    6392065,
    6386689,
    6380545,
    6345473,
    6296321,
    6281729,
    6280193,
    6248705,
    6247169,
    6244097,
    6242561,
    6218753,
    6211841,
    6204673,
    6203137,
    6201601,
    6194177,
    6192641,
    6191105,
    6098945,
    6093825,
    6054401,
    5786113,
    5738241,
    5691649,
    5620993,
    5619457,
    5591041,
    5587969,
    5582849,
    5573121,
    5567745,
    5567233,
    5565441,
    5563649,
    5561857,
    5558529,
    5556225,
    5552641,
    5550849,
    5535489,
    5533185,
    5517057,
    5514497,
    5506817,
    5506049,
    5504257,
    5503745,
    5499905,
    5494273,
    5485313,
    5479937,
    5478145,
    5476353,
    5474049,
    5468673,
    5462785,
    5459201,
    5456385,
    5446401,
    5444865,
    5436929,
    5425921,
    5420545,
    5415425,
    5409537,
    5406465,
    5404929,
    5399297,
    5395713,
    5380353,
    5376257,
    5363201,
    5359617,
    5351937,
    5350401,
    5344513,
    5338113,
    5332481,
    5331201,
    5322241,
    5319169,
    5318657,
    5314561,
    5298689,
    5284353,
    5278977,
    5277697,
    5263361,
    5256705,
    5256193,
    5245697,
    5244161,
    5235969,
    5234177,
    5228801,
    5227265,
    5215745,
    5204225,
    5202689,
    5202177,
    5200385,
    5197313,
    5181953,
    5177345,
    5177089,
    5168129,
    5166593,
    5165569,
    5160705,
    5155841,
    5154305,
    5148161,
    5143553,
    5142017,
    5140481,
    5138177,
    5136129,
    5105409,
    5103873,
    5102337,
    5097729,
    5088513,
    5058817,
    5051137,
    5042689,
    5041921,
    5031169,
    5025537,
    5013761,
    5011969,
    5006337,
    5004801,
    5003009,
    5001473,
    4999937,
    4998401,
    4995329,
    4978433,
    4946433,
    4940545,
    4936449,
    4934913,
    4933377,
    4931841,
    4924161,
    4923905,
    4921089,
    4918017,
    4916481,
    4914177,
    4912641,
    4911105,
    4900353,
    4898049,
    4896257,
    4894209,
    4892417,
    4890625,
    4879617,
    4876545,
    4873217,
    4870401,
    4861953,
    4851713,
    4846337,
    4843777,
    4840449,
    4835585,
    4834049,
    4829697,
    4824065,
    4818433,
    4781825,
    4776705,
    4774913,
    4756737,
    4754177,
    4752385,
    4741121,
    4737025,
    4730625,
    4718337,
    4708097,
    4704769,
    4702977,
    4701441,
    4700417,
    4696321,
    4690177,
    4682753,
    4679169,
    4672513,
    4670465,
    4665857,
    4664321,
    4662785,
    4661249,
    4660737,
    4647425,
    4644353,
    4639745,
    4638209,
    4636161,
    4634625,
    4632577,
    4630017,
    4627969,
    4617985,
    4615425,
    4610817,
    4607745,
    4604673,
    4598529,
    4596993,
    4592385,
    4590849,
    4589313,
    4583169,
    4581633,
    4577537,
    4576001,
    4574465,
    4566785,
    4565249,
    4562177,
    4561409,
    4558337,
    4555265,
    4550145,
    4547585,
    4546049,
    4544513,
    4542721,
    4538369,
    4536833,
    4535297,
    4532225,
    4527361,
    4518657,
    4516097,
    4514561,
    4513793,
    4512001,
    4492033,
    4490497,
    4488705,
    4485121,
    4483585,
    4476417,
    4474113,
    4471809,
    4465665,
    4464129,
    4460545,
    4454401,
    4453633,
    4451329,
    4448257,
    4445185,
    4441857,
    4437249,
    4430593,
    4427521,
    4423425,
    4421633,
    4421121,
    4416769,
    4404481,
    4400641,
    4385281,
    4376065,
    4369665,
    4367873,
    4365313,
    4363777,
    4360193,
    4357633,
    4352513,
    4350977,
    4348417,
    4343041,
    4341505,
    4333313,
    4331777,
    4330241,
    4321537,
    4320001,
    4316929,
    4314113,
    4310785,
    4307713,
    4306177,
    4302593,
    4299521,
    4296449,
    4291329,
    4288257,
    4286721,
    4283905,
    4281601,
    4278529,
    4276481,
    4273409,
    4270849,
    4268801,
    4267265,
    4265729,
    4259585,
    4159745,
    4127489,
    3982081,
    3947265,
    3945985,
    3944705,
    3942145,
    3939585,
    3937025,
    3936513,
    3932673,
    3932161,
    3930881,
    3928833,
    3927553,
    3926273,
    3924993,
    3924481,
    3920129,
    3918849,
    3917569,
    3916033,
    3913729,
    3912449,
    3911169,
    3909377,
    3908097,
    3906305,
    3905025,
    3903745,
    3902465,
    3899905,
    3896065,
    3894785,
    3893505,
    3892225,
    3890945,
    3888385,
    3887105,
    3885825,
    3884545,
    3881217,
    3880961,
    3878657,
    3877377,
    3876097,
    3874817,
    3873025,
    3871745,
    3870465,
    3863809,
    3861249,
    3859713,
    3857409,
    3852545,
    3851265,
    3849985,
    3848705,
    3845633,
    3844353,
    3841793,
    3840513,
    3837953,
    3835393,
    3834113,
    3832833,
    3831553,
    3828993,
    3826433,
    3825153,
    3823873,
    3822593,
    3821313,
    3820033,
    3818753,
    3817473,
    3816449,
    3815169,
    3812865,
    3811585,
    3810305,
    3803649,
    3802369,
    3801089,
    3799809,
    3798529,
    3797249,
    3795713,
    3792129,
    3789569,
    3787009,
    3785729,
    3784449,
    3783681,
    3781377,
    3780097,
    3778817,
    3776001,
    3774721,
    3771393,
    3766273,
    3764993,
    3763713,
    3759873,
    3757313,
    3756033,
    3754753,
    3753473,
    3752193,
    3744257,
    3740673,
    3739393,
    3738113,
    3736833,
    3735553,
    3732993,
    3732737,
    3729153,
    3728897,
    3726593,
    3725313,
    3724033,
    3721473,
    3720961,
    3717889,
    3714817,
    3712257,
    3709441,
    3708161,
    3706881,
    3704321,
    3699201,
    3697921,
    3696641,
    3695361,
    3693569,
    3692289,
    3691009,
    3689729,
    3687169,
    3684609,
    3682049,
    3677697,
    3675137,
    3672577,
    3670785,
    3669505,
    3668225,
    3666945,
    3664385,
    3663105,
    3661825,
    3660545,
    3657473,
    3655169,
    3650561,
    3649281,
    3646721,
    3641089,
    3639809,
    3637249,
    3635969,
    3634689,
    3629825,
    3628545,
    3623425,
    3616001,
    3613697,
    3612417,
    3611137,
    3609857,
    3608577,
    3606017,
    3601409,
    3601153,
    3598849,
    3595009,
    3594753,
    3588865,
    3587585,
    3586049,
    3584769,
    3583489,
    3577601,
    3575297,
    3571457,
    3570177,
    3568897,
    3564801,
    3563521,
    3560705,
    3558401,
    3557121,
    3555841,
    3553281,
    3552001,
    3547905,
    3544065,
    3542785,
    3539457,
    3538177,
    3536897,
    3533057,
    3531777,
    3530497,
    3529217,
    3526657,
    3525377,
    3522817,
    3521537,
    3520257,
    3516161,
    3514881,
    3513601,
    3512321,
    3512065,
    3509761,
    3504129,
    3501569,
    3500289,
    3499777,
    3498753,
    3496449,
    3495937,
    3493889,
    3492609,
    3491073,
    3490817,
    3488001,
    3486721,
    3482625,
    3481089,
    3479553,
    3478273,
    3477761,
    3475713,
    3474433,
    3472641,
    3471361,
    3465729,
    3465217,
    3463169,
    3461633,
    3460353,
    3458817,
    3456257,
    3454977,
    3453697,
    3452417,
    3449089,
    3446529,
    3444993,
    3443457,
    3440897,
    3439617,
    3438081,
    3435777,
    3433985,
    3432705,
    3431425,
    3430401,
    3428097,
    3426817,
    3425537,
    3424257,
    3421953,
    3416833,
    3412993,
    3410433,
    3407361,
    3406081,
    3404801,
    3403521,
    3402241,
    3400961,
    3398401,
    3397121,
    3394561,
    3392257,
    3390977,
    3388417,
    3385857,
    3384577,
    3382017,
    3378433,
    3377153,
    3375873,
    3374593,
    3372801,
    3369473,
    3365633,
    3364353,
    3360257,
    3357697,
    3356417,
    3355137,
    3351297,
    3350017,
    3348737,
    3342081,
    3255297,
    3226369,
    3149825,
    3131137,
    3080705,
    3078657,
    3077633,
    3076609,
    3074305,
    3072513,
    3068673,
    3067649,
    3066625,
    3065601,
    3064577,
    3063041,
    3062017,
    3060993,
    3057409,
    3055361,
    3053313,
    3051265,
    3050241,
    3048705,
    3047681,
    3045377,
    3044353,
    3042305,
    3041281,
    3040257,
    3039233,
    3038209,
    3037185,
    3036161,
    3035137,
    3034113,
    3031041,
    3028225,
    3026177,
    3025153,
    3024129,
    3023105,
    3020289,
    3019265,
    3016193,
    3015169,
    3014145,
    3011329,
    3006209,
    3005185,
    3004161,
    3003137,
    3002113,
    3001089,
    2997505,
    2996481,
    2995969,
    2994945,
    2992385,
    2989313,
    2987777,
    2986753,
    2983681,
    2983425,
    2981633,
    2978305,
    2977281,
    2976257,
    2974209,
    2971137,
    2968577,
    2964737,
    2957569,
    2956545,
    2955009,
    2953217,
    2952193,
    2949633,
    2946817,
    2941697,
    2939649,
    2938881,
    2936577,
    2935553,
    2933761,
    2931713,
    2931201,
    2925313,
    2924289,
    2921217,
    2920193,
    2919169,
    2918145,
    2915073,
    2912513,
    2911489,
    2910465,
    2909185,
    2907905,
    2906881,
    2905857,
    2903297,
    2900225,
    2899201,
    2896385,
    2893057,
    2892289,
    2891009,
    2889473,
    2886401,
    2885377,
    2883073,
    2881537,
    2880769,
    2877185,
    2876417,
    2875649,
    2873857,
    2873089,
    2872321,
    2870273,
    2867969,
    2865921,
    2863105,
    2858241,
    2834433,
    2832641,
    2830849,
    2819073,
    2815745,
    2814209,
    2813441,
    2802689,
    2800641,
    2798593,
    2796801,
    2791681,
    2763265,
    2762497,
    2761217,
    2760193,
    2753281,
    2752769,
    2748929,
    2747905,
    2743553,
    2739201,
    2730497,
    2729217,
    2726401,
    2723073,
    2722305,
    2718209,
    2714625,
    2713345,
    2710529,
    2708481,
    2708225,
    2707969,
    2707713,
    2705665,
    2702593,
    2695681,
    2692097,
    2681089,
    2676993,
    2675969,
    2674433,
    2672641,
    2666241,
    2661633,
    2661377,
    2653697,
    2641409,
    2639361,
    2632961,
    2630657,
    2622209,
    2615553,
    2606337,
    2600705,
    2585345,
    2584833,
    2573569,
    2560513,
    2539777,
    2531585,
    2530305,
    2529537,
    2527745,
    2524673,
    2513665,
    2510593,
    2479361,
    2475009,
    2469633,
    2468097,
    2426625,
    2415617,
    2413569,
    2402561,
    2402305,
    2394881,
    2394625,
    2393089,
    2391553,
    2383105,
    2370561,
    2360065,
    2344449,
    2333953,
    2317057,
    2313985,
    2292225,
    2263041,
    2259969,
    2259201,
    2245377,
    2236417,
    2226177,
    2223873,
    2214913,
    2214401,
    2199297,
    2197761,
    2170625,
    2156545,
    2156289,
    2135809,
    2127617,
    2125569,
    2120961,
    2081537,
    2079745,
    2061825,
    2060801,
    2054145,
    2031617,
    2029825,
    2027777,
    2027265,
    2026497,
    2023169,
    2018561,
    2012673,
    2010113,
    2009857,
    2009089,
    1964033,
    1952513,
    1939201,
    1937665,
    1933569,
    1922049,
    1921537,
    1914881,
    1910529,
    1906177,
    1899521,
    1897729,
    1895937,
    1894657,
    1887745,
    1857793,
    1850625,
    1849345,
    1837825,
    1819905,
    1809921,
    1805569,
    1804289,
    1793793,
    1790465,
    1782017,
    1779457,
    1777665,
    1768449,
    1753089,
    1736193,
    1723649,
    1718529,
    1718017,
    1689601,
    1688577,
    1675009,
    1645825,
    1640193,
    1634561,
    1630209,
    1629185,
    1613313,
    1609217,
    1594113,
    1591297,
    1586689,
    1549057,
    1524481,
    1522689,
    1520129
  ];
  ticker.subscribe(items);
  ticker.setMode(ticker.modeFull, items);
}
